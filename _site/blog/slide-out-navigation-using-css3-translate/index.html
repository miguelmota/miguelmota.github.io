<p>e--
layout: blog-post
title: Slide Out Navigation using CSS3 Translate
category: blog
tags: [CSS3, transform, translate, navigation, demo]</p>

<h2 id="description:-facebook-style-slide-out-navigation-using-css3-translate-for-the-animation.">description: Facebook style slide out navigation using CSS3 Translate for the animation.</h2>

<p>There are many ways to create a navigation menu for a mobile site, but the kind that seems to be most popular at the time is a slide out menu, such as the one you see on the Facebook app. The advantages of using this type of menu is that it is easily accessible and there is a lot of room for list items since the user can scroll within the menu.</p>

<p>I will go through the process of a creating a barebones slide out menu. But with a little bit of styling you can make look somewhat decent like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;figure style=&quot;width:49%;float:left;&quot;&gt;
    &lt;a href=&quot;/blog/slide-out-navigation-using-css3-translate//demo&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/blog/slide-out-navigation-using-css3-translate//slide-out-navigation-closed.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;
    &lt;figcaption&gt;Navigation closed&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure style=&quot;width:49%;float:right;&quot;&gt;
    &lt;a href=&quot;/blog/slide-out-navigation-using-css3-translate//demo&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/blog/slide-out-navigation-using-css3-translate//slide-out-navigation-opened.png&quot; alt=&quot;&quot; &gt;&lt;/a&gt;
    &lt;figcaption&gt;Navigation opened&lt;/figcaption&gt;
&lt;/figure&gt;
</code></pre></div>
<p><a href="/blog/slide-out-navigation-using-css3-translate//demo">View the complete demo »</a></p>

<p>Alright let&#39;s get started.</p>

<h2 id="html">HTML</h2>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="o">&lt;</span><span class="nt">input</span> <span class="nt">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="nt">id</span><span class="o">=</span><span class="s2">&quot;nav-handler&quot;</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nt">nav</span> <span class="nt">id</span><span class="o">=</span><span class="s2">&quot;nav&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nt">ul</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nt">li</span><span class="o">&gt;&lt;</span><span class="nt">a</span> <span class="nt">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="o">&gt;</span><span class="nt">Nav</span> <span class="nt">Item</span> <span class="nt">1</span><span class="o">&lt;/</span><span class="nt">a</span><span class="o">&gt;&lt;/</span><span class="nt">li</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nt">li</span><span class="o">&gt;&lt;</span><span class="nt">a</span> <span class="nt">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="o">&gt;</span><span class="nt">Nav</span> <span class="nt">Item</span> <span class="nt">2</span><span class="o">&lt;/</span><span class="nt">a</span><span class="o">&gt;&lt;/</span><span class="nt">li</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nt">li</span><span class="o">&gt;&lt;</span><span class="nt">a</span> <span class="nt">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="o">&gt;</span><span class="nt">Nav</span> <span class="nt">Item</span> <span class="nt">3</span><span class="o">&lt;/</span><span class="nt">a</span><span class="o">&gt;&lt;/</span><span class="nt">li</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="nt">ul</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nt">nav</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nt">main</span> <span class="nt">id</span><span class="o">=</span><span class="s2">&quot;main-container&quot;</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="nt">header</span> <span class="nt">id</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nt">label</span> <span class="nt">id</span><span class="o">=</span><span class="s2">&quot;menu-button&quot;</span> <span class="nt">for</span><span class="o">=</span><span class="s2">&quot;nav-handler&quot;</span><span class="o">&gt;</span><span class="nt">Menu</span><span class="o">&lt;/</span><span class="nt">label</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="nt">header</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="nt">section</span> <span class="nt">id</span><span class="o">=</span><span class="s2">&quot;content-container&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nt">article</span> <span class="nt">id</span><span class="o">=</span><span class="s2">&quot;content&quot;</span><span class="o">&gt;</span>
            <span class="nt">This</span> <span class="nt">is</span> <span class="nt">a</span> <span class="nt">barebones</span> <span class="nt">slide</span> <span class="nt">out</span> <span class="nt">navigation</span> <span class="nt">demo</span><span class="o">.</span>
        <span class="o">&lt;/</span><span class="nt">article</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="nt">section</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="nt">main</span><span class="o">&gt;</span>
</code></pre></div>
<p>So we first set a <code>checkbox</code> with an <code>id</code> at the top of the document. I will explain why later. After it we have our <code>nav</code> element. This is the menu that will slide out.</p>

<p>After the nav we have a <code>main</code> container. When the menu is opened this container will be partially sliding over off screen.</p>

<p>Inside the main container we have a <code>header</code>. Notice that inside the header there is a label acting as the menu button. <strong>Very important</strong> to set the <code>for</code> attribute to the <code>id</code> of the checkbox. When the label is pressed, it will change the state of the checkbox. It&#39;s essentially acting as a <em>toggle</em>. The checkbox with will either be checked or unchecked; if it&#39;s checked the navigation opens, it it&#39;s unchecked the navigation closes. Make sense?</p>

<p>And finally after the header we have a <code>section</code> element that holds the content.</p>

<h2 id="css">CSS</h2>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="c">/* Global styles */</span>
<span class="o">*</span> <span class="p">{</span>
    <span class="k">margin</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="n">box</span><span class="o">-</span><span class="n">sizing</span><span class="o">:</span> <span class="k">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">sizing</span><span class="o">:</span> <span class="k">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">sizing</span><span class="o">:</span> <span class="k">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">html</span><span class="o">,</span> <span class="nt">body</span> <span class="p">{</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">body</span> <span class="p">{</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span>
    <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
    <span class="k">font-size</span><span class="o">:</span> <span class="m">16px</span><span class="p">;</span>
    <span class="k">font-family</span><span class="o">:</span> <span class="k">sans-serif</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Hide nav handler checkbox */</span>
<span class="nf">#nav-handler</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Header */</span>
<span class="nf">#header</span> <span class="p">{</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">static</span><span class="p">;</span>
    <span class="k">top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">left</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">75px</span><span class="p">;</span>
    <span class="k">z-index</span><span class="o">:</span> <span class="m">2</span><span class="p">;</span>
    <span class="k">background</span><span class="o">:</span> <span class="m">#999</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Header menu button */</span>
<span class="nf">#menu-button</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
    <span class="k">line-height</span><span class="o">:</span> <span class="m">4</span><span class="o">.</span><span class="m">5</span><span class="p">;</span>
    <span class="k">cursor</span><span class="o">:</span> <span class="k">pointer</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Header active menu button */</span>
<span class="nf">#nav-handler</span><span class="nd">:checked</span> <span class="o">~</span> <span class="nf">#menu-button</span> <span class="p">{</span>
    <span class="k">color</span><span class="o">:</span> <span class="m">#08c</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Slide out navigation */</span>
<span class="nf">#nav</span> <span class="p">{</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">fixed</span><span class="p">;</span>
    <span class="k">top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">left</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">80%</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="k">z-index</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
    <span class="k">overflow</span><span class="o">:</span> <span class="k">auto</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">overflow</span><span class="o">-</span><span class="n">scrolling</span><span class="o">:</span> <span class="n">touch</span><span class="p">;</span>
    <span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">0s</span> <span class="m">.25s</span><span class="p">;</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">0s</span> <span class="m">.25s</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">0s</span> <span class="m">.25s</span><span class="p">;</span>
    <span class="k">background</span><span class="o">:</span> <span class="m">#bbb</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Active slide out navigation */</span>
<span class="nf">#nav-handler</span><span class="nd">:checked</span> <span class="o">~</span> <span class="nf">#nav</span> <span class="p">{</span>
    <span class="k">opacity</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
    <span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">0s</span> <span class="m">0s</span><span class="p">;</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">0s</span> <span class="m">0s</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">0s</span> <span class="m">0s</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Slide out navigation list items */</span>
<span class="nf">#nav</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
    <span class="k">clear</span><span class="o">:</span> <span class="k">both</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#nav</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="nt">a</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#main-container</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span>
    <span class="n">transition</span><span class="o">:</span> <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transform</span> <span class="m">.25s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transform</span> <span class="m">.25s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span> <span class="m">.25s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
    <span class="k">z-index</span><span class="o">:</span> <span class="m">5</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Translate main container when nav handler is checked */</span>
<span class="nf">#nav-handler</span><span class="nd">:checked</span> <span class="o">~</span> <span class="nf">#main-container</span> <span class="p">{</span>
    <span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">80%</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span> <span class="c">/* X value must be same as Nav width */</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">80%</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span> <span class="c">/* X value must be same as Nav width */</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">80%</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span> <span class="c">/* X value must be same as Nav width */</span>
<span class="p">}</span>

<span class="nf">#content-container</span> <span class="p">{</span>
    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
    <span class="k">top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">left</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="k">padding</span><span class="o">:</span> <span class="m">75px</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span> <span class="c">/* Top padding must be same as header height */</span>
    <span class="k">overflow-y</span><span class="o">:</span> <span class="k">scroll</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">overflow</span><span class="o">-</span><span class="n">scrolling</span><span class="o">:</span> <span class="n">touch</span><span class="p">;</span>
    <span class="k">background</span><span class="o">:</span> <span class="m">#fff</span><span class="p">;</span>
    <span class="k">z-index</span><span class="o">:</span> <span class="m">-1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Running down through the CSS; at the top we have global styles. We set the height to 100% on the html and body elements, and set <code>overflow</code> to hidden on the body element.</p>

<p>We obviously do not want to display the checkbox so we hide it.</p>

<p>Afterwards we have styling for the header and menu button.</p>

<p>Then we get to the nav. We need to have it positioned <code>fixed</code> and have <code>-webkit-overflow-scrolling: touch</code> in order to have <em>smooth</em>, elastic scrolling.</p>

<p>For the <code>main</code> container we must set the z-index to higher number than the nav because it sits on top of it. When the user taps the menu button, the main container will slide over to the right using CSS3 <code>translate3D</code> and <code>transition</code> for the animation. When it slides, over the navigation menu below it will be revealed. So when the checkbox is checked, we set <code>translate3D(80%,0,0)</code> on the main container which will move it over to the right by 80%. This is <em>pretty much</em> the <strong>magic</strong> of this whole tutorial.</p>

<p>You might be wondering what the <code>~</code> (tilde) does. In CSS the <code>~</code> selector is the <em>general sibling combinator</em>, which means that it will match elements that come <strong><em>after</em></strong> it; <em>not a child</em>. So in our example, <code>#nav-handler:checked ~ #main-container</code> is a selector for the main container when the checkbox is checked.</p>

<p><a href="/blog/slide-out-navigation-using-css3-translate//barebones-demo">View the barebones demo »</a></p>

<p>Here&#39;s the <a href="https://gist.github.com/miguelmota/5737739">gist</a>.</p>

<h2 id="android-support">Android Support</h2>

<p>Unfortunately, this will not work on some Android browsers because clicking on the <code>label</code> will not trigger the checkbox to become checked, nor does the general sibling combinator selector work. So we have to resort to a bit of JavaScript. First we need to add a class, <code>.nav-handler-checked</code>, in our css:</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#nav-handler</span><span class="nd">:checked</span> <span class="o">~</span> <span class="nf">#main-container</span><span class="o">,</span>
<span class="nc">.nav-handler-checked</span> <span class="p">{</span>
    <span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">80%</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">80%</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translate3D</span><span class="p">(</span><span class="m">80%</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Then when the nav handler label is clicked we add the <em>nav-handler-checked</em> class to the main container. If the main container already contains the class, we simply remove it. I&#39;ll be using jQuery for the sake of simplicity.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/* Android support */</span>
<span class="k">if</span> <span class="p">(</span><span class="sr">/Android/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#nav-handler&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">$mainContainer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#main-container&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$mainContainer</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">&#39;nav-handler-checked&#39;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">$mainContainer</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;nav-handler-checked&#39;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">$mainContainer</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;nav-handler-checked&#39;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="conclusion">Conclusion</h2>

<p>I Hope this was helpful. Nothing is perfect and there is <em>always</em> room for improvement. Perhaps leave some feedback, as all feedback is greatly appreciated.</p>
