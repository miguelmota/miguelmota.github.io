<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<!--
	                                      ___                           __
	           __                        /\_ \                         /\ \__
	  ___ ___ /\_\     __   __  __     __\//\ \         ___ ___     ___\ \ ,_\    __
	/' __` __`\/\ \  /'_ `\/\ \/\ \  /'__`\\ \ \      /' __` __`\  / __`\ \ \/  /'__`\
	/\ \/\ \/\ \ \ \/\ \L\ \ \ \_\ \/\  __/ \_\ \_    /\ \/\ \/\ \/\ \L\ \ \ \_/\ \L\.\_
	\ \_\ \_\ \_\ \_\ \____ \ \____/\ \____\/\____\   \ \_\ \_\ \_\ \____/\ \__\ \__/.\_\
	 \/_/\/_/\/_/\/_/\/___L\ \/___/  \/____/\/____/    \/_/\/_/\/_/\/___/  \/__/\/__/\/_/
	                   /\____/
	                   \_/__/
	-->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="Tutorial on how to display your latest Delicious bookmarks using jQuery.">
	<meta name="keywords" content="miguel mota,web developer,creative freelance,html5 css3 web design, miguel mota blog, miguel mota developer">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-title" content="Miguel Mota">
	<title>Display latest delicious bookmarks with jQuery » Miguel Mota | Web Developer</title>
	<link rel="canonical" href="http://www.miguelmota.com/">
	<link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/miguelmota">
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon.png">
	<link rel="apple-touch-startup-image" href="/img/startup.png">
	<link rel="stylesheet" href="/css/main.css">
	<script type="text/javascript" src="//use.typekit.net/wkl5rpy.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<script src="/js/main.min.js"></script>
	<script>
	  	var _gaq = _gaq || [];
	   	_gaq.push(['_setAccount', 'UA-12642068-1']);
	   	_gaq.push(['_setDomainName', '.miguelmota.com']);
	  	_gaq.push(['_trackPageview']);
	   	(function() {
	     		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	     		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	     		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	   	})();
	   	$(document).on('click', '[data-ga-label]', function() {
	   		_gaq.push(['_trackEvent', 'Call To Action', 'Click', $(this).attr('data-ga-label')]);
	   	});
	</script>
</head>
<body id="blog">
		<div id="top"></div>
		<img class="hidden" src="/img/miguel-mota-logo.jpg" alt="">
		<header id="header" class="contain-to-grid fixed">
			<nav class="top-bar">
				<ul class="title-area">
					<li class="name"><a href="/">Miguel Mota</a></li>
					<li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
				</ul>
				<section class="top-bar-section">
				    <ul class="right">
				      <li class="divider"></li>
				      <li ><a href="/about" data-ga-label="Navigation - About">About</a></li>
				      <li class="divider"></li>
				      <li class="active"><a href="/" data-ga-label="Navigation - Blog">Blog</a></li>
				      <li class="divider"></li>
				      <li ><a href="/work" data-ga-label="Navigation - Work">Work</a></li>
				      <li class="divider"></li>
							<li ><a href="/contact" data-ga-label="Navigation - Contact">Contact</a></li>
				      <li class="divider"></li>
				    </ul>
				</section>
			</nav>
		</header>

		<main id="main" role="main">
			<section id="post">
	<div class="row">
		<div class="large-12 column">

			<datetime>11 Oct 2011 <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.miguelmota.com/blog/display-latest-delicious-bookmarks-with-jquery" data-text="Display latest delicious bookmarks with jQuery" data-size="large" data-related="_moogs">Tweet</a></datetime>
			<h1>Display latest delicious bookmarks with jQuery</h1>

			<p>If you look below you see my three most recently saved bookmarks from <a href='http://delicious.com/miguelmota' target="_blank">delicious</a>:</p>

<div class="highlight">
	<ul id="delicious-bookmarks"></ul>
	<div class="ajax-loader">fetching bookmarks...</div>
</div>

<script>
var niceTime = (function(){
	var ints = {
	second: 1,
	minute: 60,
	hour: 3600,
	day: 86400,
	week: 604800,
	month: 2592000,
	year: 31536000
	};
	return function(time){
	time = +new Date(time);
	var gap = ((+new Date()) - time) / 1000,
	amount, measure;
	for (var i in ints){
	if (gap > ints[i]){ measure = i; }
	}
	amount = gap / ints[measure];
	amount = gap > ints.day ? (Math.round(amount)) : Math.round(amount);
	amount += ' ' + measure + (amount > 1 ? 's' : '') + ' ago';
	return amount;
	};
})();
$.getJSON("http://feeds.delicious.com/v2/json/miguelmota?callback=?",
	{
	count: "3"
	},
	function(data){
		$.each(data, function(i, item){
			var title = item.d;
	      	var url = item.u;
	      	var date = item.dt;
	      	$("#delicious-bookmarks").append('<li><a href="'+url+'" target="_blank">'+title+'</a> <time class="status-date">'+niceTime(date)+'<time></li>');
		});
		$(".ajax-loader").css("display","none");
	}
);
</script>

<p>First let's create an empty unordered list with a div below it that will serve as a loader (if you want to get fancy, you can use
an animated loading gif):</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;delicious-bookmarks&quot;</span><span class="nt">&gt;&lt;/ul&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;ajax-loader&quot;</span><span class="nt">&gt;</span>fetching bookmarks...<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>


<p>We are using the <code>$.getJSON()</code> function. Let's add our json request url and and then loop though the requested data with the <code>$.each()</code> function and get the
<code>title</code>, <code>url</code> and <code>date</code>. Then we are appending a list item to our unordered list that we created earlier which will include our variables.
So now after it complete the jquery, let's remove the loader:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">&quot;http://feeds.delicious.com/v2/json/miguelmota?callback=?&quot;</span><span class="p">,</span>
	<span class="p">{</span>
	<span class="nx">count</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span>
	<span class="p">},</span>
	<span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
		<span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">item</span><span class="p">){</span>
			<span class="kd">var</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">d</span><span class="p">;</span>
	      	<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">u</span><span class="p">;</span>
	      	<span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">dt</span><span class="p">;</span>
	      	<span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#delicious-bookmarks&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;&lt;li&gt;&lt;a href=&quot;&#39;</span><span class="o">+</span><span class="nx">url</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&#39;</span><span class="o">+</span><span class="nx">title</span><span class="o">+</span><span class="s1">&#39;&lt;/a&gt; &lt;time&gt;&#39;</span><span class="o">+</span><span class="nx">niceTime</span><span class="p">(</span><span class="nx">date</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&lt;time&gt;&lt;/li&gt;&#39;</span><span class="p">);</span>
		<span class="p">});</span>
		<span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.ajax-loader&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;display&quot;</span><span class="p">,</span><span class="s2">&quot;none&quot;</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">);</span>
</code></pre>
</div>


<p>But hold on, if we leave it like that, the date will show in ISO-8601 standard which will look like <script>var d = new Date().toISOString();</script><code><script>document.write(d);</script></code>.
We want to display it as <code>time ago</code> so we will use <a href="http://james.padolsey.com/javascript/recursive-pretty-date/" target="_blank">James Padolsey's "pretty-date" function</a>.
Before the <code>$.getJSON()</code> function, add:</p>

<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">niceTime</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
	<span class="kd">var</span> <span class="nx">ints</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">second</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
	<span class="nx">minute</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span>
	<span class="nx">hour</span><span class="o">:</span> <span class="mi">3600</span><span class="p">,</span>
	<span class="nx">day</span><span class="o">:</span> <span class="mi">86400</span><span class="p">,</span>
	<span class="nx">week</span><span class="o">:</span> <span class="mi">604800</span><span class="p">,</span>
	<span class="nx">month</span><span class="o">:</span> <span class="mi">2592000</span><span class="p">,</span>
	<span class="nx">year</span><span class="o">:</span> <span class="mi">31536000</span>
	<span class="p">};</span>
	<span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">){</span>
	<span class="nx">time</span> <span class="o">=</span> <span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">gap</span> <span class="o">=</span> <span class="p">((</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">())</span> <span class="o">-</span> <span class="nx">time</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span>
	<span class="nx">amount</span><span class="p">,</span> <span class="nx">measure</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">ints</span><span class="p">){</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">gap</span> <span class="o">&gt;</span> <span class="nx">ints</span><span class="p">[</span><span class="nx">i</span><span class="p">]){</span> <span class="nx">measure</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span> <span class="p">}</span>
	<span class="p">}</span>
	<span class="nx">amount</span> <span class="o">=</span> <span class="nx">gap</span> <span class="o">/</span> <span class="nx">ints</span><span class="p">[</span><span class="nx">measure</span><span class="p">];</span>
	<span class="nx">amount</span> <span class="o">=</span> <span class="nx">gap</span> <span class="o">&gt;</span> <span class="nx">ints</span><span class="p">.</span><span class="nx">day</span> <span class="o">?</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">amount</span><span class="p">))</span> <span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">amount</span><span class="p">);</span>
	<span class="nx">amount</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">measure</span> <span class="o">+</span> <span class="p">(</span><span class="nx">amount</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="s1">&#39;s&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; ago&#39;</span><span class="p">;</span>
	<span class="k">return</span> <span class="nx">amount</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">})();</span>
</code></pre>
</div>


<p>Now include the <code>date</code> variable as the <code>niceTime()</code> function argument like so:</p>

<div class="highlight"><pre><code class="javascript"><span class="o">&lt;</span><span class="nx">time</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="o">&gt;</span><span class="s1">&#39;+niceTime(date)+&#39;</span><span class="o">&lt;</span><span class="nx">time</span><span class="o">&gt;</span>
</code></pre>
</div>



<p>Obviously replace my username with yours and that's it!</p>

<p>I know there might be better ways of doing this, if so let us know in the comments!</p>

		</div>
	</div>

	
		<div id="related-posts" class="row">
			<div class="row">
				<div class="large-12 column">
					<div class="input-short-url">share: <input type="text" value="http://mig.gs/dldbj"></div>
				</div>
			</div>
			<div class="large-6 column">
				
    

    <h3>Previous post</h3>

	    <dl class="posts-list">

				<dt><datetime>09 Aug 2011</datetime></dt>
				<dd><h2><a href="/blog/html5-reset-stylesheet">HTML5 Reset Stylesheet</a> <small><a href='/blog/html5-reset-stylesheet#disqus_thread' data-disqus-identifier='/blog/html5-reset-stylesheet'></a></small></h2></dd>

			</dl>

    



    

    	<h3>Next post</h3>

    	<dl class="posts-list">

		    <dt><datetime>14 Oct 2011</datetime></dt>
		    <dd><h2><a href="/blog/ant-task-to-compress-html-files">Ant task to compress HTML files</a> <small><a href='/blog/ant-task-to-compress-html-files#disqus_thread' data-disqus-identifier='/blog/ant-task-to-compress-html-files'></a></small></h2></dd>

		  </dl>

    

			</div>
			<div class="large-6 column">

				<h3>See also...</h3>

				<dl class="posts-list">
					
						<dt><datetime>07 Apr 2013</datetime></dt>
<dd><h2><a href="/blog/iphone-and-ipad-web-app-startup-images">iPhone and iPad Web App Startup Images</a> <small><a href='/blog/iphone-and-ipad-web-app-startup-images#disqus_thread' data-disqus-identifier='/blog/iphone-and-ipad-web-app-startup-images'></a></small></h2></dd>
					
						<dt><datetime>06 Apr 2013</datetime></dt>
<dd><h2><a href="/blog/sass-media-queries">SASS Media Queries</a> <small><a href='/blog/sass-media-queries#disqus_thread' data-disqus-identifier='/blog/sass-media-queries'></a></small></h2></dd>
					
						<dt><datetime>05 Apr 2013</datetime></dt>
<dd><h2><a href="/blog/back-to-business">Back to business</a> <small><a href='/blog/back-to-business#disqus_thread' data-disqus-identifier='/blog/back-to-business'></a></small></h2></dd>
					
						<dt><datetime>04 Apr 2013</datetime></dt>
<dd><h2><a href="/blog/extensive-gitignore">Extensive .gitignore</a> <small><a href='/blog/extensive-gitignore#disqus_thread' data-disqus-identifier='/blog/extensive-gitignore'></a></small></h2></dd>
					
						<dt><datetime>25 Mar 2013</datetime></dt>
<dd><h2><a href="/blog/screaming-goat">Screaming goat</a> <small><a href='/blog/screaming-goat#disqus_thread' data-disqus-identifier='/blog/screaming-goat'></a></small></h2></dd>
					
				</dl>

			</div>
		</div>
	

	<div id="comments" class="row">
		<div class="large-12 column">
			<div id="disqus_thread"></div>
		</div>
	</div>

</section>

<script>
    var disqus_shortname = 'miguelmota';
    var disqus_identifier = '/blog/display-latest-delicious-bookmarks-with-jquery';
    var disqus_url = 'http://www.miguelmota.com/blog/display-latest-delicious-bookmarks-with-jquery';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
		</main>

		<footer id="footer">
			<div class="row">
				<div class="large-12 column">
					<p>
						© 2013 Miguel Mota <a class="hidden" href="https://plus.google.com/102174577273194387652" rel="author">Google+</a>

						<a href="https://twitter.com/_moogs" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @_moogs</a>

					</p>
				</div>
			</div>
		</footer>

		<a id="forkme" href="https://github.com/miguelmota/miguelmota.github.com" target="_blank" data-ga-label="Fork me on Github"><img src="/img/forkme_right_darkblue_121621.png" alt=""></a>

		<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	</body>
</html>
